# B.3 組み込み変数・定数

詳細はP508〜510の一覧や以下のサイトを参照

- 組み込み変数 : [Ruby 2.6.0 リファレンスマニュアル > ライブラリ一覧 > 組み込みライブラリ > Kernelモジュール](https://docs.ruby-lang.org/ja/2.6.0/class/Kernel.html)
- 組み込み定数 : [Ruby 2.6.0 リファレンスマニュアル > ライブラリ一覧 > 組み込みライブラリ > Objectクラス](https://docs.ruby-lang.org/ja/2.6.0/class/Object.html)
- 疑似変数 : [Ruby 2.6.0 リファレンスマニュアル > 変数と定数](https://docs.ruby-lang.org/ja/2.6.0/doc/spec=2fvariables.html)
- 環境変数 : [Ruby 2.6.0 リファレンスマニュアル > 環境変数](https://docs.ruby-lang.org/ja/2.6.0/doc/spec=2fenvvars.html)

組み込み変数は、グローバル変数だと思わぬところに影響を与える可能性があるので、普段使いして良いものなのか気になった  
「オブジェクト指向スクリプト言語Ruby」の「2.9.7 組み込み変数、定数」によると、「パターンマッチ関連以外はできるだけ使わないほうが良い」らしい

> これらの特殊変数の多くは結局はグローバル変数ですから、プログラム全体の挙動に影響を与えてしまいます。
> 特に$/、$\、$,などは、過去との互換性のためのもので、メソッドの引数として明示的に指定することができます。
> パターンマッチに関するローカルな特殊変数以外はワンライナーなどの特別な場合以外にはできるだけ使わないほうが良いと思われます。

パターンマッチ関連でいうと以下の変数は使うことがありそう

- `$1`、`$2`、… : 「()」にマッチした文字列  
    n番目の「()」が `$n` に対応する
- `$\`` : 最後に実行したパターンマッチでマッチした部分より前の文字列
- `$'` : 最後に実行したパターンマッチでマッチした部分より後ろの文字列
- `$~` : 最後に実行したパターンマッチに関する情報

