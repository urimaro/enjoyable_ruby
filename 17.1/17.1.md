# 17.1 入出力の種類

```
goh@goh ~/s/g/u/enjoyable_ruby> ruby 17.1/out.rb
0.35214800453818906
1回出力しました。
0.17222608429972786
2回出力しました。
0.9996546091919342
3回出力しました。
```

```
goh@goh ~/s/g/u/enjoyable_ruby> ruby 17.1/out.rb > 17.1/log.txt
1回出力しました。
2回出力しました。
3回出力しました。
```

```
goh@goh ~/s/g/u/enjoyable_ruby> ruby 17.1/tty.rb
Stdin is TTY.
goh@goh ~/s/g/u/enjoyable_ruby> echo | ruby 17.1/tty.rb
Stdin is not TTY.
goh@goh ~/s/g/u/enjoyable_ruby> ruby 17.1/tty.rb < 17.1/data.txt
Stdin is not TTY.
```

- `File.open(path, mode, perm, opt)` : `path` で指定されたファイルを開き、 `File` オブジェクトを返す
    - `mode` : 読み込み、書き込み、追加を文字列で指定する  
        デフォルトは `r` (読み込み)
    - `perm` : ファイルを追加した場合のアクセス権限を8進数で指定する  
        デフォルトは `0666`
    - `opt` : ハッシュで指定するオプション  
        エンコーディングやテキストモード、バイナリモードを指定できる
- `IO.open` : `File.open` と同じ

    ```
    >> File.open("17.1/sample.txt", textmode: true) do |file|
    ?> while line = file.gets
    >> puts line.chomp!
    >> end
    >> end
    　親譲おやゆずりの無鉄砲むてっぽうで小供の時から損ばかりしている。小学校に居る時分学校の二階から飛び降りて一週間ほど腰こしを抜ぬかした事がある。なぜそんな無闇むやみをしたと聞く人があるかも知れぬ。別段深い理由でもない。新築の二階から首を出していたら、同級生の一人が冗談じょうだんに、いくら威張いばっても、そこから飛び降りる事は出来まい。弱虫やーい。と囃はやしたからである。小使こづかいに負ぶさって帰って来た時、おやじが大きな眼めをして二階ぐらいから飛び降りて腰を抜かす奴やつがあるかと云いったから、この次は抜かさずに飛んで見せますと答えた。
    　親類のものから西洋製のナイフを貰もらって奇麗きれいな刃はを日に翳かざして、友達ともだちに見せていたら、一人が光る事は光るが切れそうもないと云った。切れぬ事があるか、何でも切ってみせると受け合った。そんなら君の指を切ってみろと注文したから、何だ指ぐらいこの通りだと右の手の親指の甲こうをはすに切り込こんだ。幸さいわいナイフが小さいのと、親指の骨が堅かたかったので、今だに親指は手に付いている。しかし創痕きずあとは死ぬまで消えぬ。
    　庭を東へ二十歩に行き尽つくすと、南上がりにいささかばかりの菜園があって、真中まんなかに栗くりの木が一本立っている。これは命より大事な栗だ。実の熟する時分は起き抜けに背戸せどを出て落ちた奴を拾ってきて、学校で食う。菜園の西側が山城屋やましろやという質屋の庭続きで、この質屋に勘太郎かんたろうという十三四の倅せがれが居た。勘太郎は無論弱虫である。弱虫の癖くせに四つ目垣を乗りこえて、栗を盗ぬすみにくる。ある日の夕方折戸おりどの蔭かげに隠かくれて、とうとう勘太郎を捕つらまえてやった。その時勘太郎は逃にげ路みちを失って、一生懸命いっしょうけんめいに飛びかかってきた。向むこうは二つばかり年上である。弱虫だが力は強い。鉢はちの開いた頭を、こっちの胸へ宛あててぐいぐい押おした拍子ひょうしに、勘太郎の頭がすべって、おれの袷あわせの袖そでの中にはいった。邪魔じゃまになって手が使えぬから、無暗に手を振ふったら、袖の中にある勘太郎の頭が、右左へぐらぐら靡なびいた。しまいに苦しがって袖の中から、おれの二の腕うでへ食い付いた。痛かったから勘太郎を垣根へ押しつけておいて、足搦あしがらをかけて向うへ倒たおしてやった。山城屋の地面は菜園より六尺がた低い。勘太郎は四つ目垣を半分崩くずして、自分の領分へ真逆様まっさかさまに落ちて、ぐうと云った。勘太郎が落ちるときに、おれの袷の片袖がもげて、急に手が自由になった。その晩母が山城屋に詫わびに行ったついでに袷の片袖も取り返して来た。

    ＜参考文献>
    夏目漱石「坊っちゃん」
    => nil
    ```

- `file.close` : 開いたファイルを閉じる  
    `File.open` にブロックを渡すと、ブロックを抜ける際、自動的にファイルを閉じてくれる

